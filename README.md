# fslfeatsetup
 
Python functions to create an FSL FEAT configuration file (.fsf)

Can be run from python command line/REPL or incorporated into a script

**Work in progress -- not ready for use as yet**

Feel free to contribute

[DOCUMENTATION](build/docs/content/api-documentation.md) generated by [pydoc-markdown](https://github.com/NiklasRosenstein/pydoc-markdown)

[On Python Package Index (Test Server)](https://test.pypi.org/project/fslfeatsetup/)

## Get started

todo

## First-level analysis steps
```python
    from fslfeatsetup.FSF import *
    from fslfeatsetup.EVs import *
    from fslfeatsetup.FSFLabels import *

    SubjectFMRI = [ ... ] 
    SubjectStructurals = [ ... ]

    for i range(len(SubjectFMRI)):
           FSF = FeatSettings(FeatLevel.FIRST_LEVEL, FeatAnalysis.FULL_ANALYSIS)
           Data = DataOptions(r1_FSF)
           Data.Configure("path/to/output/subject_i",
                            [SubjectFMRI[i])

           Misc = MiscOptions(FSF)
           Misc.Configure()

           Reg = RegOptions(FSF)
           Reg.ConfigureStandardSpace()
           Reg.ConfigureMainStructural([SubjectStructurals[i]])

           PreStats = PreStatsOptions(FSF)
           PreStats.Configure(sliceTiming=FeatSliceTiming.TIMING_FILE,
                                 sliceTimingFile="path/to/slice/timing/file",
                                 bet=True)
           Stats = StatsOptions(FSF)
           Stats.Configure()
           Stats.AddFirstLevelEV("myEV1","path/to/my/EV1",Gamma())
           Stats.AddFirstLevelEV("myEV2","path/to/my/EV2",Gamma())
           Stats.AddFirstLevelEV("myEV3","path/to/my/EV3",Gamma())


           Stats.OrthogonalizeEVs([ [ 0 for x in range(4)] for y in range(4)])

           PostStats = PostStatsOptions(FSF)
           PostStats.Configure(zmin = 2, zmax= 8)

           FSF.write("path/to/subject_i/fsf")

```

## Higher-level analysis steps

todo

## Changelog

|  PyPI version |  Description |
| ------ | ------ |
| 0.2.8  | Generated an .fsf accepted by FEAT. There are a bunch of hard-coded defaults that still need to be fixed |
| 0.2.5  | Fixed gammadelay being blank and FSLDIR not found |
| 0.2.3  | Patch: quotations for custom EV files |
| 0.2.1  | Patched a silly bug |
| 0.2.0  | first "complete" version, with post-stats options and auto generated comments. still very much a work in progress |
| 0.1.2  | first stable version - package still a work in progress |
